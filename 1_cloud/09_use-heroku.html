<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Heroku &mdash; Cloud Development 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/aaltsys.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Cloud Development 1.0 documentation" href="index.html" />
    <link rel="prev" title="Documentation Sample Project" href="08_use-sphinxdoc.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="08_use-sphinxdoc.html" title="Documentation Sample Project"
             accesskey="P">previous</a></li>
        <li><a href="index.html">Cloud Development 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using Heroku</a><ul>
<li><a class="reference internal" href="#install-heroku-tools">Install Heroku Tools</a></li>
<li><a class="reference internal" href="#add-heroku-server-to-project">Add Heroku Server to Project</a></li>
<li><a class="reference internal" href="#heroku-static-deployment">Heroku Static Deployment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-access-authentication">Basic Access Authentication</a><ul>
<li><a class="reference internal" href="#htaccess-script-generator">.htaccess script generator</a></li>
<li><a class="reference internal" href="#htpassword-auth-generator">.htpassword auth generator</a></li>
<li><a class="reference internal" href="#deploy-to-heroku">Deploy to Heroku</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="08_use-sphinxdoc.html"
                        title="previous chapter">Documentation Sample Project</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/09_use-heroku.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-heroku">
<span id="use-heroku"></span><h1>Using Heroku<a class="headerlink" href="#using-heroku" title="Permalink to this headline">¶</a></h1>
<p>Heroku provides a free web application deployment services, integrated with
the Cloud9 development environment through Git and GitHub. Following is a
brief outline for configuring and deploying a project on Heroku.</p>
<div class="section" id="install-heroku-tools">
<h2>Install Heroku Tools<a class="headerlink" href="#install-heroku-tools" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Open a project in Cloud9</p>
</li>
<li><p class="first">In the Cloud9 Project, choose <em class="menuselection">View ‣ Console</em> from the menu</p>
</li>
<li><p class="first">At the console command line, type:</p>
<div class="highlight-python"><div class="highlight"><pre>c9pm install heroku
</pre></div>
</div>
</li>
<li><p class="first">To make sure that your install was successful, and to get ready to use heroku,
run the following command in your Terminal:</p>
<div class="highlight-python"><div class="highlight"><pre>heroku login
</pre></div>
</div>
<p>Enter your heroku username and password when prompted.</p>
</li>
</ul>
</div>
<div class="section" id="add-heroku-server-to-project">
<h2>Add Heroku Server to Project<a class="headerlink" href="#add-heroku-server-to-project" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Open a project in Cloud9</p>
</li>
<li><p class="first">In the Cloud9 Project, choose <em class="menuselection">View ‣ Console</em> from the menu</p>
</li>
<li><p class="first">At the console command line, type:</p>
<div class="highlight-python"><div class="highlight"><pre>heroku create
</pre></div>
</div>
<p>This will create a heroku server for your app, and configure your git
repository with a remote location where you can deploy your app.</p>
</li>
<li><p class="first">To see the new git heroku deployment branch, type:</p>
<div class="highlight-python"><div class="highlight"><pre>git remote -v
</pre></div>
</div>
</li>
<li><p class="first">Open in a new browser tab, and bookmark, the url of your new heroku server,
which you will see in the output of the <tt class="docutils literal"><span class="pre">heroku</span> <span class="pre">create</span></tt> command. The URL
will look similar to this:</p>
<div class="highlight-python"><div class="highlight"><pre>random-word-1234.herokuapp.com
</pre></div>
</div>
</li>
<li><p class="first">After making changes to the project in Cloud9 and pushing to the GitHub
repository, deploy changes on Heroku with the additional command:</p>
<div class="highlight-python"><div class="highlight"><pre>bash doc-deploy.sh
</pre></div>
</div>
</li>
<li><p class="first">Now you can view your live site at your heroku server URL (which you
bookmarked earlier).</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Did you notice? the <tt class="file docutils literal"><span class="pre">doc-deploy.sh</span></tt> deployment command file was
the same for either <strong>gh-pages</strong> on GitHub or <strong>heroku</strong>. Curious students
should open this program in the editor and investigate this piece of magic.</p>
</div>
</div>
<div class="section" id="heroku-static-deployment">
<h2>Heroku Static Deployment<a class="headerlink" href="#heroku-static-deployment" title="Permalink to this headline">¶</a></h2>
<p>Ordinarily Heroku rejects static HTML sites and refuses the deployment, because
Heroku is designed to host dynamic web applications instead. Heroku is tricked
into hosting the Sphinxdoc HTML as if it were a <strong class="program">PhP</strong> site by the
presence of two files, generated by the <tt class="file docutils literal"><span class="pre">doc-newproject.sh</span></tt> script:</p>
<div class="highlight-python"><div class="highlight"><pre>touch _static/index.php
echo &#39;php_flag engine off&#39; &gt; _static/.htaccess
</pre></div>
</div>
<p>This deployment idea is courtesy Kenneth Reitz <a class="footnote-reference" href="#id7" id="id1">[1]</a>. Other techniques for making
static deployments using special packs for <strong class="program">Ruby</strong> or <strong class="program">PHP</strong> are
mentioned in the references. <a class="footnote-reference" href="#id8" id="id2">[2]</a> <a class="footnote-reference" href="#id9" id="id3">[3]</a> <a class="footnote-reference" href="#id10" id="id4">[4]</a></p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="basic-access-authentication">
<h1>Basic Access Authentication<a class="headerlink" href="#basic-access-authentication" title="Permalink to this headline">¶</a></h1>
<p>GitHub&#8217;s <strong>gh-pages</strong> provides free deployment for static sites comprised of
HTML pages. HTML itself does not provide security mechanisms for private sites,
however; this is a web server function which requires dynamic site deployment.</p>
<p>User authentication and site security in a web application generally depends on
computer language libraries, server configuration files, and a host of other
stuff specific to the project. However, practically every web server supports
basic access authentication through configuration file <tt class="file docutils literal"><span class="pre">.htaccess</span></tt>. <a class="footnote-reference" href="#id11" id="id5">[5]</a>
Used properly, this will provide what is referred to as &#8220;Pretty Good Privacy&#8221;
(PGP).</p>
<p>By combining Bitbucket private repository hosting with dynamic deployment on
Heroku, we can develop and test static and dynamic projects in the cloud with
privacy. Here is how:</p>
<div class="section" id="htaccess-script-generator">
<h2>.htaccess script generator<a class="headerlink" href="#htaccess-script-generator" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Open project file <tt class="file docutils literal"><span class="pre">_static/.htaccess</span></tt> in your editor. It should contain
one line, <tt class="kbd docutils literal"><span class="pre">php_flag</span> <span class="pre">engine</span> <span class="pre">off</span></tt>, as described previously.</p>
</li>
<li><p class="first">Open site
<a class="reference external" href="http://www.htaccesstools.com/htaccess-authentication/">htaccess authentication</a>
in a separate browser tab. <a class="footnote-reference" href="#id13" id="id6">[6]</a></p>
</li>
<li><p class="first">Type an authentication message in <em class="guilabel">Auth Name</em>.</p>
</li>
<li><p class="first">Type <tt class="file docutils literal"><span class="pre">/app/www/.htpasswd</span></tt> in <em class="guilabel">.htpasswd File Location</em>.</p>
<img alt="_images/09_htaccess-1.png" src="_images/09_htaccess-1.png" />
</li>
<li><p class="first">Click the button, <em class="guilabel">Create .htaccess file</em>.</p>
</li>
<li><p class="first">Select the text on the resulting page, copy it, and paste it into file
<tt class="file docutils literal"><span class="pre">.htaccess</span></tt> below the existing command.</p>
</li>
<li><p class="first">The resulting text in .htaccess should look like:</p>
<div class="highlight-python"><div class="highlight"><pre>php_flag engine off
AuthType Basic
AuthName &quot;Access restricted - login&quot;
AuthUserFile /app/www/.htpasswd
Require valid-user
</pre></div>
</div>
</li>
<li><p class="first">Save the <tt class="file docutils literal"><span class="pre">_static/.htaccess</span></tt> file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are having trouble finding the <tt class="file docutils literal"><span class="pre">.htaccess</span></tt> file, you
may have forgotten that files starting with a dot (.) are hidden. Remember
to show hidden files.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="htpassword-auth-generator">
<h2>.htpassword auth generator<a class="headerlink" href="#htpassword-auth-generator" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Create a new text file in folder <tt class="file docutils literal"><span class="pre">_static</span></tt>, name it <tt class="file docutils literal"><span class="pre">.htpasswd</span></tt>,
and open it in the editor.</p>
</li>
<li><p class="first">Use <a class="reference external" href="http://www.htaccesstools.com/htpasswd-generator/">htaccess passwords</a>
generator to create <em>Username:Password</em> strings.</p>
<img alt="_images/09_htaccess-2.png" src="_images/09_htaccess-2.png" />
</li>
<li><p class="first">Copy each created string and paste it into <tt class="file docutils literal"><span class="pre">.htpasswd</span></tt>, one string per
line.</p>
</li>
<li><p class="first">Save the file <tt class="file docutils literal"><span class="pre">_static/.htaccess</span></tt> into your project.</p>
</li>
</ul>
</div>
<div class="section" id="deploy-to-heroku">
<h2>Deploy to Heroku<a class="headerlink" href="#deploy-to-heroku" title="Permalink to this headline">¶</a></h2>
<p>Deploy your project to Heroku with the <tt class="file docutils literal"><span class="pre">doc-deploy.sh</span></tt> command. Then
display the running app in the web browser. You should be asked for
authentication credentials.</p>
<hr class="docutils" />
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://github.com/kennethreitz">Kenneth Reitz</a>, Static sites on
heroku cedar, <a class="reference external" href="http://kennethreitz.org/exposures/static-sites-on-heroku-cedar">http://kennethreitz.org/exposures/static-sites-on-heroku-cedar</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://www.garron.me/about.html">Guillermo Garron</a>, Hosting jekyll
site for free on heroku,
<a class="reference external" href="http://www.garron.me/blog/deploy-host-jekyll-static-site-free-heroku.html">http://www.garron.me/blog/deploy-host-jekyll-static-site-free-heroku.html</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="https://github.com/aaltsys/heroku-buildpack-static">Static build pack</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="http://yobriefca.se/blog/2012/08/21/securely-serving-static-files-on-heroku/">Static article</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td>Linked from Wikipedia,
<a class="reference external" href="http://en.wikipedia.org/wiki/Basic_access_authentication">Basic access authentication</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td><a class="reference external" href="http://www.agehrke.com/about/">Andreas Gehrke</a>, web service linked at
<a class="reference external" href="http://www.htaccesstools.com/">.htaccess Tools</a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="08_use-sphinxdoc.html" title="Documentation Sample Project"
             >previous</a></li>
        <li><a href="index.html">Cloud Development 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Gerald Lovel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>